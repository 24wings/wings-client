<dx-data-grid id="roles" [dataSource]="dataSource" [showBorders]="true" (onEditorPreparing)="onEditorPreparing($event)">
  <dxo-editing mode="row" [allowAdding]="true" [allowUpdating]="true" [allowDeleting]="true">
  </dxo-editing>
  <dxo-filter-row [visible]="true"></dxo-filter-row>
  <dxo-header-filter [visible]="true"></dxo-header-filter>
  <dxo-remote-operations [filtering]="true" [sorting]="true" [grouping]="true"></dxo-remote-operations>
  <dxi-column dataField="phone" [caption]="'手机号'"></dxi-column>
  <dxi-column dataField="name" [caption]="'姓名'"></dxi-column>
  <dxi-column dataField="nickname" caption="昵称"></dxi-column>
  <dxi-column dataField="createTime" [caption]="'创建时间'"></dxi-column>
  <dxi-column dataField="roles" [caption]="'角色列表'" [calculateDisplayValue]="calculateUserRoles"></dxi-column>

  <dxi-column dataField="password" caption="密码" [visible]="false" [formItem]="{ visible: true }"></dxi-column>
  <dxo-editing mode="popup" [allowUpdating]="true">
    <dxo-popup title="编辑" [showTitle]="true" [width]="700" [height]="600"
      [position]="{ my: 'center', at: 'center', of: 'window' }">
    </dxo-popup>
  </dxo-editing>
</dx-data-grid>